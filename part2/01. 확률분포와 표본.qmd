# 확률분포와 표본

**통계적 추론의 출발점은 “데이터가 어떤 분포에서 나왔는가?”를 이해하는 것**이다.

## 확률분포란?

**확률변수(Random Variable)** 가 취할 수 있는 값과 그 값이 나타날 **확률의 구조**

분류

* 이산형 확률분포
* 연속형 확률분포

## 연속형 확률분포 (Continuous Distributions)

### 대표적인 연속형 분포

| 분포   | 특징             | 사용 예   |
| ---- | -------------- | ------ |
| 정규분포 | 종 모양, 평균 중심 대칭 | 신체 측정값 |
| 지수분포 | 오른쪽 꼬리         | 대기 시간  |
| 감마분포 | 비대칭 양수         | 생존 시간  |
| 로그정규 | 로그 후 정규        | 소득, 크기 |


### 예제 – 연속형 변수

```{python}
import seaborn as sns
import matplotlib.pyplot as plt

df = sns.load_dataset("penguins").dropna()
```

```{python}
sns.histplot(
    df["body_mass_g"],
    kde=True
)
plt.show()
```

### 정규분포 수식

$$
f(x) = \frac{1}{\sqrt{2\pi\sigma^2}}
\exp\left(-\frac{(x-\mu)^2}{2\sigma^2}\right)
$$

## 이산형 확률분포 (Discrete Distributions)

### 대표적인 이산형 분포

| 분포   | 특징          | 사용 예  |
| ---- | ----------- | ----- |
| 베르누이 | 성공/실패       | 합격 여부 |
| 이항분포 | n번 시행       | 불량 개수 |
| 포아송  | 단위 시간 발생 횟수 | 고객 유입 |

### 예제 – 이산형 변수

```{python}
df["species"].value_counts()
```

```{python}
sns.countplot(
    x="species",
    data=df
)
plt.show()
```

## 표본과 모집단

* **모집단(Population)**
  전체 관심 대상

* **표본(Sample)**
  모집단에서 일부 추출한 데이터

> 실제 분석은 거의 항상 **표본 기반**

## 표본 분포 (Sampling Distribution)

### 개념

* "표본 통계량(평균, 분산 등)"의 분포
* **데이터의 분포 ≠ 표본 평균의 분포**

### 예제 – 표본 평균 분포

```{python}
import numpy as np

body_mass = df["body_mass_g"].values
```

```{python}
sample_means = []

for _ in range(1000):
    sample = np.random.choice(body_mass, size=30, replace=True)
    sample_means.append(sample.mean())
```

```{python}
sns.histplot(sample_means, kde=True)
plt.show()
```

* 원 데이터는 비대칭
* **표본 평균 분포는 정규에 가까워짐**
> **중심극한정리(CLT)**

## 중심극한정리 (Central Limit Theorem)

> 표본 크기가 충분히 크면
> **표본 평균의 분포는 원래 분포와 관계없이 정규분포에 수렴**

조건

* 표본 크기 ↑
* 독립성 가정

## 중심극한 정리가 중요한 이유

* t 검정
* ANOVA
* 신뢰구간
* 회귀 분석

**모두 “표본 평균 분포” 가정 위에서 동작**
